---
layout : post
permalink : /content/php-mysql-socket-error/index.html
author : "Pascal Opitz"
author_id : 1
title : "PHP &#38; Mysql socket error"
date : "2007-07-07 19:58:36"
dateformatted : "July 7 2007, 19:58"
excerpt : |
    <p>I keep coming across this whenever I set up MySQL and PHP on a mac: mysql_connect() fails throwing an error &hellip;</p>
categories : 
   - July 2007
   - "Pascal Opitz"
comments : |
    <li class="odd" id="comment-2102">
    <div class="comment-text">Alternatively, you can also refer directly to the socket file in the call to mysql_connect (or in the configuration file of a CMS), replacing the host name &#8216;localhost&#8217;  with &#8217;:/tmp/mysql.sock&#8217; (note the leading colon). That&#8217;s my preferred method.</div>
    <p class="comment-info">by 
    <a href="http://www.michelf.com/" rel="nofollow"></a>on July 7 2007, 22:22<a href="#comment-2102">#</a>
    </p>
    </li>
    <li class="even" id="comment-2103">
    <div class="comment-text">I ran into this problem. I set the server to 127.0.0.1 and it then it worked perfect.</div>
    <p class="comment-info">by 
    <a href="http://www.152.org" rel="nofollow"></a>on July 7 2007, 22:35<a href="#comment-2103">#</a>
    </p>
    </li>
    <li class="odd" id="comment-2105">
    <div class="comment-text">or just use the excellent MAMP, which doesn&#8217;t have any of these problems ;)</div>
    <p class="comment-info">by 
    on July 8 2007, 09:15<a href="#comment-2105">#</a>
    </p>
    </li>
    <li class="even" id="comment-5686">
    <div class="comment-text">Victor,
    as Michel said above, you need to find out where the socket lives, and use the path instead of localhost (or whatever you\'ve added for your db host) in your application.
    
    If you\'re on a shared host, though, my hunch is that you simply don\'t have access to a db.</div>
    <p class="comment-info">by 
    <a href="http://www.contentwithstyle.co.uk" rel="nofollow"></a>on March 10 2009, 14:22<a href="#comment-5686">#</a>
    </p>
    </li>
    <li class="odd" id="comment-5632">
    <div class="comment-text">hi, i\'m very interested about this, because i have the same problem, but i don\'t have access to the server configuration.
    How can i refer to the socket file?</div>
    <p class="comment-info">by 
    on March 5 2009, 19:18<a href="#comment-5632">#</a>
    </p>
    </li>
    
---

	<p>I keep coming across this whenever I set up MySQL and PHP on a new mac: mysql_connect() fails throwing an error &#8230;</p>

<pre><code> mysql_connect() [function.mysql-connect]: Can't connect to local 
MySQL server through socket '/var/mysql/mysql.sock'</code></pre>

	<p>And everytime I forget to remember what the solution was:<br />
This can be fixed by changing settings in /etc/php.ini:</p>

<pre><code>
sudo cp /etc/php.ini.default /etc/php.ini
sudo vim /etc/php.ini
</code></pre>

	<p>Then set the mysql default socket to the temp folder:</p>

<pre><code>
mysql.default_socket = /tmp/mysql.sock
</code></pre>

	<p>Quite annoying, but then again: Hey, I&#8217;ve got a new Mac!!!</p>



 